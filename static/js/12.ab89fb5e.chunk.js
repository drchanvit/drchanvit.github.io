(this.webpackJsonpr8cs=this.webpackJsonpr8cs||[]).push([[12],{200:function(e,t,a){"use strict";var n=a(207),r=a.n(n);t.a=r.a.create({baseURL:"https://cloud1.r8way.moph.go.th:3099/api",headers:{"Content-type":"application/json"}})},210:function(e,t,a){"use strict";var n=a(200);function r(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.id?{Authorization:e.id}:{}}t.a={getAll:function(e,t){return n.a.get("/"+t,{headers:r(),params:e})},getCount:function(e,t){return console.log(t),console.log(e),n.a.get("/"+t+"/count",{headers:r(),params:e})},get:function(e,t){return n.a.get("/"+t+"/${id}",{headers:r()})},create:function(e,t){return n.a.post("/"+t,e,{headers:r()})},update:function(e,t,a){return n.a.put("/"+a+"/"+e,t,{headers:r()})},remove:function(e,t){return n.a.delete("/"+t+"/"+e,{headers:r()})},removeAll:function(e){return n.a.delete("/"+e,{headers:r()})},findByTitle:function(e,t){return n.a.get("/"+t+"?filter[where][title][like]=${title}",{headers:r()})}}},220:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(33);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},611:function(e,t,a){"use strict";a.r(t);var n=a(33),r=a(220),c=a(31),o=a(0),l=a.n(o),i=a(210);t.default=function(e){var t=Object(o.useState)({id:null,title:"",description:"",published:!1}),a=Object(c.a)(t,2),u=a[0],s=a[1],d=Object(o.useState)(""),p=Object(c.a)(d,2),m=p[0],f=p[1];Object(o.useEffect)((function(){var t;t=e.match.params.id,i.a.get(t).then((function(e){s(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);var b=function(e){var t=e.target,a=t.name,c=t.value;s(Object(r.a)(Object(r.a)({},u),{},Object(n.a)({},a,c)))},h=function(e){var t={id:u.id,title:u.title,description:u.description,published:e};i.a.update(u.id,t).then((function(t){s(Object(r.a)(Object(r.a)({},u),{},{published:e})),console.log(t.data)})).catch((function(e){console.log(e)}))};return l.a.createElement("div",null,u?l.a.createElement("div",{className:"edit-form"},l.a.createElement("h4",null,"Tutorial"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{type:"text",className:"form-control",id:"title",name:"title",value:u.title,onChange:b})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"description"},"Description"),l.a.createElement("input",{type:"text",className:"form-control",id:"description",name:"description",value:u.description,onChange:b})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("strong",null,"Status:")),u.published?"Published":"Pending")),u.published?l.a.createElement("button",{className:"badge badge-primary mr-2",onClick:function(){return h(!1)}},"UnPublish"):l.a.createElement("button",{className:"badge badge-primary mr-2",onClick:function(){return h(!0)}},"Publish"),l.a.createElement("button",{className:"badge badge-danger mr-2",onClick:function(){i.a.remove(u.id).then((function(t){console.log(t.data),e.history.push("/tutorials")})).catch((function(e){console.log(e)}))}},"Delete"),l.a.createElement("button",{type:"submit",className:"badge badge-success",onClick:function(){i.a.update(u.id,u).then((function(e){console.log(e.data),f("The tutorial was updated successfully!")})).catch((function(e){console.log(e)}))}},"Update"),l.a.createElement("p",null,m)):l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("p",null,"Please click on a Tutorial...")))}}}]);
//# sourceMappingURL=12.ab89fb5e.chunk.js.map