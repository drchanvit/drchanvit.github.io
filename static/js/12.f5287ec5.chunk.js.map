{"version":3,"sources":["http-common.js","services/auth-header.js","services/TutorialService.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","crud/Tutorial.js"],"names":["axios","create","baseURL","headers","authHeader","user","JSON","parse","localStorage","getItem","id","Authorization","getAll","params","thisCollection","http","get","getCount","console","log","data","post","update","put","remove","delete","removeAll","findByTitle","title","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","Tutorial","props","useState","description","published","currentTutorial","setCurrentTutorial","message","setMessage","useEffect","match","TutorialDataService","then","response","catch","e","handleInputChange","event","name","value","updatePublished","status","className","htmlFor","type","onChange","onClick","history"],"mappings":"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","file":"static/js/12.f5287ec5.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"https://cloud1.r8way.moph.go.th:3099/api\",\n\n  headers: {\n    \"Content-type\": \"application/json\"\n  }\n});","export default function authHeader() {\n  const user = JSON.parse(localStorage.getItem('user'));\n\n  if (user && user.id) {\n    return { Authorization: user.id }; \n  } else {\n    return {};\n  }\n}","import http from \"../http-common\";\nimport authHeader from \"services/auth-header\";\n\nconst getAll = (params, thisCollection) => {\n  return http.get(\"/\"+thisCollection,  {headers: authHeader(), params});\n};\n\nconst getCount = (params, thisCollection) => {\n\tconsole.log(thisCollection)\n\tconsole.log(params)\nreturn http.get(\"/\"+thisCollection+\"/count\", {headers: authHeader(), params});\n};\n\nconst get = (id, thisCollection) => {\n  return http.get(\"/\"+thisCollection+\"/${id}\", {headers: authHeader()});\n};\n\nconst create = (data, thisCollection) => {\n  return http.post(\"/\"+thisCollection, data, {headers: authHeader()});\n};\n\nconst update = (id, data, thisCollection) => {\n  return http.put(\"/\"+thisCollection+\"/\"+id, data, {headers: authHeader()});\n};\n\nconst remove = (id, thisCollection) => {\n  return http.delete(\"/\"+thisCollection+\"/\"+id, {headers: authHeader()});\n};\n\nconst removeAll = (thisCollection) => {\n  return http.delete(\"/\"+thisCollection, {headers: authHeader()});\n};\n\nconst findByTitle = (title, thisCollection) => {\n  return http.get(\"/\"+thisCollection+\"?filter[where][title][like]=${title}\", {headers: authHeader()});\n};\n\nexport default {\n  getAll,\n  getCount,\n  get,\n  create,\n  update,\n  remove,\n  removeAll,\n  findByTitle\n};\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { useState, useEffect } from \"react\";\nimport TutorialDataService from \"../services/TutorialService\";\n\nconst Tutorial = props => {\n  const initialTutorialState = {\n    id: null,\n    title: \"\",\n    description: \"\",\n    published: false\n  };\n  const [currentTutorial, setCurrentTutorial] = useState(initialTutorialState);\n  const [message, setMessage] = useState(\"\");\n\n  const getTutorial = id => {\n    TutorialDataService.get(id)\n      .then(response => {\n        setCurrentTutorial(response.data);\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  };\n\n  useEffect(() => {\n    getTutorial(props.match.params.id);\n  }, [props.match.params.id]);\n\n  const handleInputChange = event => {\n    const { name, value } = event.target;\n    setCurrentTutorial({ ...currentTutorial, [name]: value });\n  };\n\n  const updatePublished = status => {\n    var data = {\n      id: currentTutorial.id,\n      title: currentTutorial.title,\n      description: currentTutorial.description,\n      published: status\n    };\n\n    TutorialDataService.update(currentTutorial.id, data)\n      .then(response => {\n        setCurrentTutorial({ ...currentTutorial, published: status });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  };\n\n  const updateTutorial = () => {\n    TutorialDataService.update(currentTutorial.id, currentTutorial)\n      .then(response => {\n        console.log(response.data);\n        setMessage(\"The tutorial was updated successfully!\");\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  };\n\n  const deleteTutorial = () => {\n    TutorialDataService.remove(currentTutorial.id)\n      .then(response => {\n        console.log(response.data);\n        props.history.push(\"/tutorials\");\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  };\n\n  return (\n    <div>\n      {currentTutorial ? (\n        <div className=\"edit-form\">\n          <h4>Tutorial</h4>\n          <form>\n            <div className=\"form-group\">\n              <label htmlFor=\"title\">Title</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"title\"\n                name=\"title\"\n                value={currentTutorial.title}\n                onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"description\">Description</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"description\"\n                name=\"description\"\n                value={currentTutorial.description}\n                onChange={handleInputChange}\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>\n                <strong>Status:</strong>\n              </label>\n              {currentTutorial.published ? \"Published\" : \"Pending\"}\n            </div>\n          </form>\n\n          {currentTutorial.published ? (\n            <button\n              className=\"badge badge-primary mr-2\"\n              onClick={() => updatePublished(false)}\n            >\n              UnPublish\n            </button>\n          ) : (\n            <button\n              className=\"badge badge-primary mr-2\"\n              onClick={() => updatePublished(true)}\n            >\n              Publish\n            </button>\n          )}\n\n          <button className=\"badge badge-danger mr-2\" onClick={deleteTutorial}>\n            Delete\n          </button>\n\n          <button\n            type=\"submit\"\n            className=\"badge badge-success\"\n            onClick={updateTutorial}\n          >\n            Update\n          </button>\n          <p>{message}</p>\n        </div>\n      ) : (\n        <div>\n          <br />\n          <p>Please click on a Tutorial...</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Tutorial;\n"],"sourceRoot":""}