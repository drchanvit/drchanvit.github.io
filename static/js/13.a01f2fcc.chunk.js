(this.webpackJsonpr8cs=this.webpackJsonpr8cs||[]).push([[13],{198:function(e,t,a){"use strict";var n=a(205),i=a.n(n);t.a=i.a.create({baseURL:"https://cloud1.r8way.moph.go.th:3099/api",headers:{"Content-type":"application/json"}})},208:function(e,t,a){"use strict";var n=a(198);function i(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.id?{Authorization:e.id}:{}}t.a={getAll:function(e,t){return n.a.get("/"+t,{headers:i(),params:e})},getCount:function(e,t){return console.log(t),console.log(e),n.a.get("/"+t+"/count",{headers:i(),params:e})},get:function(e,t){return n.a.get("/"+t+"/${id}",{headers:i()})},create:function(e,t){return n.a.post("/"+t,e,{headers:i()})},update:function(e,t,a){return n.a.put("/"+a+"/"+e,t,{headers:i()})},remove:function(e,t){return n.a.delete("/"+t+"/"+e,{headers:i()})},removeAll:function(e){return n.a.delete("/"+e,{headers:i()})},findByTitle:function(e,t){return n.a.get("/"+t+"?filter[where][title][like]=${title}",{headers:i()})}}},219:function(e,t,a){"use strict";var n={patients:{icon:"\ud83d\udc6a",title:"Child and Family",field:{cid:{type:"text",icon:"\ud83d\udcb3",show:"CID",validate:"STRING",table:!1,create:!1,option:[],edit:!1,default:""},pname:{type:"text",icon:"\ud83d\udcdb",show:"Pre Name",validate:"STRING",table:!0,create:!0,option:[],edit:!1,default:""},fname:{type:"text",icon:"\ud83d\udcdb",show:"First Name",validate:"STRING",table:!0,create:!0,option:[],edit:!1,default:""},lname:{type:"text",icon:"\ud83d\udcdb",show:"Last Name",validate:"STRING",table:!0,create:!0,option:[],edit:!1,default:""},sex:{type:"text",icon:"\ud83d\udc6b",show:"Sex",validate:"STRING",table:!0,create:!1,option:[],edit:!1,default:""},birthday:{type:"text",icon:"\ud83c\udf82",show:"Birthday (Age Years)",validate:"DATE",table:!0,create:!0,option:[],edit:!1,default:Date()},bloodgrp:{type:"text",icon:"\ud83e\ude78",show:"Blood Group",validate:"STRING",table:!1,create:!0,option:[],edit:!0,default:""},height:{type:"number",icon:"\ud83d\udccf",show:"Height (cm)",validate:"STRING",table:!1,create:!0,option:[],edit:!0,default:0},pttype:{type:"text",icon:"\ud83d\udcb0",show:"Insurance",validate:"STRING",table:!1,create:!0,option:[],edit:!0,default:""},fathername:{type:"text",icon:"\ud83c\udf85",show:"Father",validate:"STRING",table:!1,create:!0,option:[],edit:!0,default:""},mathername:{type:"text",icon:"\ud83e\udd36",show:"Mother",validate:"STRING",table:!1,create:!0,option:[],edit:!0,default:""}},relateTo:{}},opdscreens:{icon:"\ud83d\udc6a",title:"OPD Screen",field:{hn:{type:"text",icon:"\ud83d\udcb3",show:"Hospital Number",validate:"STRING",table:!0,create:!1,option:[],edit:!0,default:""},hcode:{type:"text",icon:"\ud83d\udcdb",show:"Hospital Code",validate:"STRING",table:!0,create:!0,option:[],edit:!0,default:""},cc:{type:"text",icon:"\ud83d\udcdb",show:"Chief Complaint",validate:"STRING",table:!1,create:!0,option:[],edit:!0,default:""},bpd:{type:"number",icon:"\ud83d\udcdb",show:"Diastolic BP",validate:"NUMBER",table:!1,create:!0,option:[],edit:!0,default:0},bps:{type:"number",icon:"\ud83d\udc6b",show:"Systolic BP",validate:"NUMBER",table:!1,create:!0,option:[],edit:!0,default:0},pulse:{type:"number",icon:"\ud83c\udf82",show:"Pulse",validate:"NUMBER",table:!1,create:!0,option:[],edit:!0,default:0},temperature:{type:"number",icon:"\ud83d\udccf",show:"Temperature",validate:"NUMBER",table:!1,create:!0,option:[],edit:!0,default:0}},relateTo:{}},persons:{icon:"\ud83d\udc6a",title:"Persons",field:{cid:{type:"text",icon:"\ud83d\udcb3",show:"CID",validate:"STRING",table:!1,create:!1,option:[],edit:!1,default:""},pname:{type:"text",icon:"\ud83d\udcdb",show:"Pre Name",validate:"STRING",table:!0,create:!0,option:[],edit:!0,default:""},fname:{type:"text",icon:"\ud83d\udcdb",show:"First Name",validate:"STRING",table:!0,create:!0,option:[],edit:!0,default:""},lname:{type:"text",icon:"\ud83d\udcdb",show:"Last Name",validate:"STRING",table:!0,create:!0,option:[],edit:!0,default:""},sex:{type:"text",icon:"\ud83d\udc6b",show:"Sex",validate:"STRING",table:!0,create:!1,option:[],edit:!0,default:""}},relateTo:{}},clinicmembers:{icon:"\ud83d\udc6a",title:"Clinic membrs",field:{hn:{type:"text",icon:"\ud83d\udcb3",show:"Hospital Number",validate:"STRING",table:!0,create:!1,option:[],edit:!0,default:""},hcode:{type:"text",icon:"\ud83d\udcdb",show:"Hospital Code",validate:"STRING",table:!0,create:!0,option:[],edit:!0,default:""},clinic:{type:"text",icon:"\ud83d\udcdb",show:"Hospital Code",validate:"STRING",table:!0,create:!0,option:[],edit:!0,default:""},modify_staff:{type:"text",icon:"\ud83d\udcdb",show:"Modified Staff",validate:"STRING",table:!0,create:!0,option:[],edit:!0,default:""},last_bp_bps_value:{type:"text",icon:"\ud83d\udcdb",show:"last Systolic BP",validate:"NUMBER",table:!0,create:!0,option:[],edit:!0,default:0},last_bp_bpd_value:{type:"text",icon:"\ud83d\udcdb",show:"last diastolic BP",validate:"NUMBER",table:!0,create:!0,option:[],edit:!0,default:0}},relateTo:{}}};t.a=n},619:function(e,t,a){"use strict";a.r(t);var n=a(33),i=a(27),l=a(0),o=a.n(l),r=a(208),c=a(173),d=a(127),s=a(187),u=a(59),m=a(286),p=a(287),f=a(288),h=a(289),b=a(290),g=a(609),y=a(610),v=a(611),E=a(612),w=a(393),x=a(615),N=a(164),T=a(28),S=a(58),I=a(184),j=(a(103),a(218),a(614)),C=a(219),R=function e(t,a,n,i,l){return o.a.createElement("div",null,Object.keys(C.a[n].field).map((function(a,r){var d=C.a[n].field[a];if(!0===d.edit)return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,{container:!0,spacing:2,key:a+r},o.a.createElement(c.a,{item:!0,xs:12,sm:12,id:a+r},"object"===typeof t[a]?e(t[a]):i&&o.a.createElement(c.a,{container:!0,spacing:1,alignItems:"flex-end"},o.a.createElement(c.a,{item:!0,key:a+r+"avatar"},o.a.createElement(s.a,null," ",d.icon)),o.a.createElement(c.a,{item:!0,xs:10,sm:10,id:a+r+"textfield"},o.a.createElement(j.a,{id:a+r+"textfield",label:l(d.show),fullWidth:!0,defaultValue:t[a],variant:"outlined",multiline:!!(t[a]&&t[a].length>20)}))))))})),i&&o.a.createElement("div",null,o.a.createElement(w.a,{color:"primary",onClick:function(){r.a.remove(t.id).then((function(e){window.location.reload()})).catch((function(e){console.log(e)}))}},"Delete"),o.a.createElement(w.a,{color:"primary",type:"submit",className:"badge badge-success",onClick:function(){r.a.update(t.id,t).then((function(e){window.location.reload()})).catch((function(e){console.log(e)}))}},"Update")))},O=function(e,t,a){return o.a.createElement("div",null,o.a.createElement(c.a,{item:!0,xs:12,sm:12},Object.keys(C.a[t].field).map((function(n,i){var l=C.a[t].field[n];if(!0===l.edit)return o.a.createElement(c.a,{container:!0,spacing:1,alignItems:"flex-end"},o.a.createElement(c.a,{item:!0},o.a.createElement(s.a,null," ",l.icon)),o.a.createElement(c.a,{item:!0,xs:9,sm:9},o.a.createElement(j.a,{id:n+i,label:a(l.show),fullWidth:!0,value:e[n]?e[n]:"",variant:"outlined",multiline:!!(e[n]&&e[n].length>20)})))}))))},k=Object(N.a)((function(e){return{popover:{pointerEvents:"none"},container:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},paper:{marginTop:e.spacing(2),padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},submit:{margin:e.spacing(3,0,2)},table:{minWidth:650}}}));t.default=function(e){var t,a=e.searchTitle,N=e.page,j=e.setPage,G=e.thisCollection,B=Object(I.a)().t,D=function(e){return Math.floor((new Date-new Date(e).getTime())/315576e5)},M=k(),P=Object(T.a)(),A=Object(l.useState)([]),U=Object(i.a)(A,2),_=U[0],H=U[1],W=Object(l.useState)(null),F=Object(i.a)(W,2),z=F[0],J=F[1],L=Object(l.useState)(-1),$=Object(i.a)(L,2),V=($[0],$[1]),Y=o.a.useState(!1),q=Object(i.a)(Y,2),K=q[0],Q=q[1],X=o.a.useState(!1),Z=Object(i.a)(X,2),ee=(Z[0],Z[1]),te=o.a.useState(null),ae=Object(i.a)(te,2),ne=ae[0],ie=ae[1],le=function(e){ie(e.currentTarget),J(_[e.currentTarget.id]),V(e.currentTarget.id),console.log(e.currentTarget.id),console.log(e.currentTarget.key)},oe=function(){ie(null)},re=Boolean(ne),ce=Object(l.useState)(0),de=Object(i.a)(ce,2),se=de[0],ue=de[1],me=Object(l.useState)(5),pe=Object(i.a)(me,2),fe=pe[0],he=pe[1],be=function(e,t,a,n){var i={filter:{where:{}}},l={where:{}};return e&&(i.filter.where.$text={search:e},l.where.$text={search:e}),t&&(i.filter.skip=(t-1)*a),a&&(i.filter.limit=a),n?l:i},ge=function(){var e=be(a,N,fe,!0),t=be(a,N,fe,!1);r.a.getCount(e,G).then((function(e){var t=e.data.count/fe,a=t===parseInt(t)?t:parseInt(t)+1;ue(a)})).catch((function(e){console.log(e)})),r.a.getAll(t,G).then((function(e){H(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))};Object(l.useEffect)(ge,[a,N,fe]);var ye=function(){Q(!1),ee(!1)};return o.a.createElement(c.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},o.a.createElement(d.a,{className:M.paper},o.a.createElement(c.a,{container:!0,spacing:1,justify:"center",alignItems:"center"},o.a.createElement(s.a,{style:{width:P.spacing(7),height:P.spacing(7),backgroundColor:S.a[100]}},o.a.createElement(u.a,{variant:"h4",style:{color:S.a[800]}},C.a[G].icon&&C.a[G].icon))),o.a.createElement(c.a,{container:!0,direction:"column",spacing:2,alignItems:"center",justify:"flex-end"},o.a.createElement(m.a,{styles:{minWidth:650}},o.a.createElement(p.a,null,o.a.createElement(f.a,null,o.a.createElement(h.a,{align:"center",size:"medium"},B("Avatar")),Object.keys(C.a[G].field).map((function(e,t){var a=C.a[G].field[e];if(!0===a.table)return o.a.createElement(h.a,{align:"center",size:"medium",key:e+t},B(a.show))})))),o.a.createElement(b.a,null,_.map((function(e,t){return o.a.createElement(f.a,{hover:!0,onClick:function(){return function(e,t){J(e),V(t),Q(!0)}(e,t)},onMouseEnter:le,onMouseLeave:oe,id:t,row:e,key:t},o.a.createElement(h.a,null,e.birthday?o.a.createElement(s.a,null,D(e.birthday)<=15&&("1"===e.sex?"\ud83d\udc66":"\ud83d\udc67"),D(e.birthday)>15&&D(e.birthday)<=60&&("1"===e.sex?"\ud83e\uddd1":"\ud83d\udc69"),D(e.birthday)>60&&("1"===e.sex?"\ud83d\udc74":"\ud83d\udc75")):o.a.createElement(s.a,{style:{backgroundColor:S.a[100*t]}},t)),Object.keys(C.a[G].field).map((function(t,a){var n=C.a[G].field[t];if(!0===n.table)return o.a.createElement(h.a,{conponent:"th",size:"medium",key:t+a},"boolean"===n.type?JSON.stringify(e[t]):"birthday"===t?D(e[t]):e[t])})))})))),o.a.createElement(c.a,{container:!0,spacing:1,alignItems:"flex-end"},o.a.createElement(c.a,{item:!0},"\xa0 \xa0 ",B("Items per Page")," :",o.a.createElement("select",{onChange:function(e){he(e.target.value),j(1)},value:fe},[5,10,15].map((function(e){return o.a.createElement("option",{key:e,value:e},e)})))),o.a.createElement(c.a,{item:!0},o.a.createElement(x.a,{className:"my-3",count:se,page:N,siblingCount:1,boundaryCount:1,variant:"outlined",shape:"rounded",onChange:function(e,t){j(t)}}))))),o.a.createElement("div",null,z&&o.a.createElement("div",null,o.a.createElement(g.a,{open:K,onClose:ye,fullWidth:!0,maxWidth:"xs","aria-labelledby":"form-dialog-title"},o.a.createElement(c.a,{container:!0,justify:"center",style:{marginTop:P.spacing(2)}},o.a.createElement(s.a,{style:{backgroundColor:S.a[800],color:S.a[100],width:P.spacing(7),height:P.spacing(7)}},o.a.createElement(u.a,{variant:"h4"},C.a[G].icon))),o.a.createElement(y.a,null,o.a.createElement(v.a,null,R(z,J,G,!0,B))),o.a.createElement(E.a,null,o.a.createElement(w.a,{href:"/add/:"+G,color:"primary"},"Add"),o.a.createElement(w.a,{onClick:ye,color:"primary"},"Close Dialog"))))),o.a.createElement("div",null,o.a.createElement(d.a,(t={className:M.paper,id:"mouse-over-popover"},Object(n.a)(t,"className",M.popover),Object(n.a)(t,"open",re),Object(n.a)(t,"onClose",oe),t),z&&o.a.createElement(c.a,{container:!0,justify:"center",style:{marginTop:P.spacing(2)}},z.birthday?o.a.createElement(c.a,{container:!0,spacing:2,alignItems:"flex-end",justify:"center"},o.a.createElement(c.a,{item:!0},o.a.createElement(s.a,null,D(z.birthday)<=15&&("1"===z.sex?"\ud83d\udc66":"\ud83d\udc67"),D(z.birthday)>15&&D(z.birthday)<=60&&("1"===z.sex?"\ud83e\uddd1":"\ud83d\udc69"),D(z.birthday)>60&&("1"===z.sex?"\ud83d\udc74":"\ud83d\udc75"))),o.a.createElement(c.a,{item:!0},z.fname&&o.a.createElement(u.a,null,z.fname," \xa0 ",z.lname))):o.a.createElement(s.a,{style:{width:P.spacing(7),height:P.spacing(7),backgroundColor:S.a[100]}},o.a.createElement(u.a,{variant:"h4",style:{color:S.a[800]}},C.a[G].icon&&C.a[G].icon))),o.a.createElement("div",null,z&&O(z,G,B)))))}}}]);
//# sourceMappingURL=13.a01f2fcc.chunk.js.map